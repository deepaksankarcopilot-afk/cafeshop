{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Bill } from '../../app-models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/billing.service\";\nimport * as i2 from \"@angular/common\";\nfunction BillingComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, item_r4.price));\n  }\n}\nexport let BillingComponent = /*#__PURE__*/(() => {\n  class BillingComponent {\n    constructor(billingService) {\n      this.billingService = billingService;\n      this.items = [];\n      this.totalAmount = 0;\n      this.bill = new Bill();\n    }\n    addItem(item) {\n      this.items.push(item);\n      this.calculateTotal();\n    }\n    calculateTotal() {\n      this.totalAmount = this.items.reduce((sum, item) => sum + item.price, 0);\n    }\n    generateBill() {\n      this.bill.items = this.items;\n      this.bill.totalAmount = this.totalAmount;\n      this.billingService.createBill(this.bill).subscribe(response => {\n        console.log('Bill generated successfully', response);\n        this.resetBilling();\n      });\n    }\n    resetBilling() {\n      this.items = [];\n      this.totalAmount = 0;\n      this.bill = new Bill();\n    }\n    static {\n      this.ɵfac = function BillingComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || BillingComponent)(i0.ɵɵdirectiveInject(i1.BillingService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: BillingComponent,\n        selectors: [[\"app-billing\"]],\n        decls: 28,\n        vars: 4,\n        consts: [[\"itemName\", \"\"], [\"itemPrice\", \"\"], [1, \"container\", \"mt-5\"], [1, \"mb-4\"], [1, \"row\", \"g-2\", \"mb-3\"], [1, \"col-md-4\"], [\"type\", \"text\", \"placeholder\", \"Item Name\", 1, \"form-control\"], [1, \"col-md-3\"], [\"type\", \"number\", \"placeholder\", \"Price\", 1, \"form-control\"], [1, \"col-md-2\"], [1, \"btn\", \"btn-primary\", \"w-100\", 3, \"click\"], [1, \"table\", \"table-bordered\", \"table-hover\"], [1, \"table-light\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mt-3\"], [1, \"btn\", \"btn-success\", 3, \"click\"]],\n        template: function BillingComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 2)(1, \"h2\", 3);\n            i0.ɵɵtext(2, \"Billing\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 5);\n            i0.ɵɵelement(5, \"input\", 6, 0);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"div\", 7);\n            i0.ɵɵelement(8, \"input\", 8, 1);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"div\", 9)(11, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function BillingComponent_Template_button_click_11_listener() {\n              i0.ɵɵrestoreView(_r1);\n              const itemName_r2 = i0.ɵɵreference(6);\n              const itemPrice_r3 = i0.ɵɵreference(9);\n              return i0.ɵɵresetView(ctx.addItem({\n                name: itemName_r2.value,\n                price: itemPrice_r3.valueAsNumber\n              }));\n            });\n            i0.ɵɵtext(12, \"Add Item\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(13, \"table\", 11)(14, \"thead\", 12)(15, \"tr\")(16, \"th\");\n            i0.ɵɵtext(17, \"Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"th\");\n            i0.ɵɵtext(19, \"Price\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(20, \"tbody\");\n            i0.ɵɵtemplate(21, BillingComponent_tr_21_Template, 6, 4, \"tr\", 13);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(22, \"div\", 14)(23, \"h4\");\n            i0.ɵɵtext(24);\n            i0.ɵɵpipe(25, \"currency\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function BillingComponent_Template_button_click_26_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.generateBill());\n            });\n            i0.ɵɵtext(27, \"Generate Bill\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(21);\n            i0.ɵɵproperty(\"ngForOf\", ctx.items);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(25, 2, ctx.totalAmount), \"\");\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.CurrencyPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return BillingComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}